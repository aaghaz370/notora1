<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Streamtape Overlay Player</title>
<style>
  body {
    background: #000;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }
  .player-container {
    position: relative;
    width: 90%;
    max-width: 900px;
    aspect-ratio: 16 / 9;
    overflow: hidden;
    border-radius: 12px;
    box-shadow: 0 0 20px #0008;
  }
  iframe {
    width: 100%;
    height: 100%;
    border: 0;
  }
  .overlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
  }

  /* Fake progress bar */
  .progress-bar {
    position: relative;
    height: 6px;
    width: 100%;
    background: #222;
    overflow: hidden;
  }
  .progress-fill {
    position: absolute;
    left: 0; top: 0;
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #00c6ff, #0072ff);
    transition: width 0.25s ease;
  }

  /* Skip feedback */
  .feedback {
    position: absolute;
    color: white;
    font-size: 2rem;
    font-weight: bold;
    text-shadow: 0 0 10px #000;
    opacity: 0;
    transition: opacity 0.3s;
    pointer-events: none;
  }
  .feedback.show {
    opacity: 1;
  }
  .feedback.left { left: 10%; top: 50%; transform: translateY(-50%); }
  .feedback.right { right: 10%; top: 50%; transform: translateY(-50%); }
</style>
</head>
<body>

<div class="player-container">
  <!-- Streamtape embed iframe -->
 <iframe src="https://streamtape.com/e/Ypw4D1LzdzFvlP9/Koi..._Mil_Gaya_2003_WebRip_1080p_Hindi_DvD_5.1_x264_ESub_-_mkvCinemas.mkv.mp4" width="800" height="600" allowfullscreen allowtransparency allow="autoplay" scrolling="no" frameborder="0"></iframe>
  <!-- Overlay Layer -->
  <div class="overlay" id="overlay">
    <div class="feedback left" id="leftFB">⏪ 10s</div>
    <div class="feedback right" id="rightFB">10s ⏩</div>
    <div class="progress-bar">
      <div class="progress-fill" id="progress"></div>
    </div>
  </div>
</div>

<script>
let lastTap = 0;
let progress = 0;
const overlay = document.getElementById('overlay');
const leftFB = document.getElementById('leftFB');
const rightFB = document.getElementById('rightFB');
const progressFill = document.getElementById('progress');

// Fake progress (since real API not accessible)
setInterval(() => {
  progress = (progress + 0.3) % 100; // loop progress demo
  progressFill.style.width = progress + '%';
}, 500);

// Double-tap detection
overlay.addEventListener('touchstart', (e) => {
  const now = Date.now();
  const tapX = e.touches[0].clientX;
  const rect = overlay.getBoundingClientRect();
  const leftSide = tapX < rect.width / 2;
  const isDouble = (now - lastTap) < 400;
  if (isDouble) {
    if (leftSide) {
      showFeedback(leftFB);
    } else {
      showFeedback(rightFB);
    }
  }
  lastTap = now;
});

// Click on progress bar to jump visually
overlay.addEventListener('click', (e) => {
  const rect = overlay.getBoundingClientRect();
  const y = e.clientY - rect.top;
  const h = rect.height;
  // only if near bottom
  if (y > h * 0.85) {
    const x = e.clientX - rect.left;
    const percent = (x / rect.width) * 100;
    progress = percent;
    progressFill.style.width = progress + '%';
  }
});

function showFeedback(el) {
  el.classList.add('show');
  setTimeout(() => el.classList.remove('show'), 300);
}
</script>

</body>
</html>